<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API CLIMA</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4"
        crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"
        integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    <link rel="stylesheet" type="text/css" href="style.css">
    <style>
        /* mis estilos */
    </style>

</head>

<body>


    <div id="consulta">
        <form action="">
            <input type="text">
            <button type="submit">Consultar Clima</button>
            <div id="resultados">
            </div>
        </form>
    </div>



    <!-- DESDE ACA SOLO SCRIPT -->
    <script>
        // TU CODIGO:
        $('form').submit(function () {
            var key = 'e01dd92664164dc95905fb14c7f2c119';
            var url = 'https://api.openweathermap.org/data/2.5/weather?q=';
            url += $('input').val();
            url += '&&units=metric&lang=es&appid='
            url += key;

            $.get(url, function (res) {
                console.log(res);
                var temp = Math.round((res.main['temp']));
                $('#resultados').html(
                    '<div><center><img width="150" id="wicon" src="http://openweathermap.org/img/w/' + res.weather[0].icon + '.png" alt="Icono Tiempo"></div>' + '' + res.weather[0].description  + '<h1>' + res.name + ', ' + res.sys.country + '</h1>' + '<h3>Temperatura: ' + temp + ' CÂ°<h3>' + '<h3>H. Ambiental: ' + res.main.humidity + '%<h3>'
                );
                $('input').val("");
            }, 'json');
            return false;
        });

    </script>
</body>

</html>